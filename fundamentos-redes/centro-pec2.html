<!DOCTYPE html>
<html lang="pt-br" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centro de Mando: PEC 2 - Redes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
        }
        .card {
            background-color: #1F2937; /* bg-gray-800 */
            border-radius: 0.75rem; /* rounded-xl */
            border: 1px solid #374151; /* border-gray-700 */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow: hidden;
        }
        .card-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #374151; /* border-gray-700 */
        }
        .card-content {
            padding: 1.5rem;
        }
        .tab-button {
            padding: 0.5rem 1rem;
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 500;
            color: #D1D5DB; /* text-gray-300 */
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }
        .tab-button:hover {
            background-color: #374151; /* bg-gray-700 */
            color: #FFF;
        }
        .tab-button.active {
            background-color: #3B82F6; /* bg-blue-600 */
            color: #FFF;
        }
        .pill {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px; /* rounded-full */
            font-size: 0.75rem; /* text-xs */
            font-weight: 600;
        }
        .pill-blue { background-color: #1E40AF; color: #BFDBFE; } /* bg-blue-800 text-blue-200 */
        .pill-green { background-color: #065F46; color: #A7F3D0; } /* bg-green-800 text-green-200 */
        .pill-yellow { background-color: #854D0E; color: #FEF08A; } /* bg-yellow-800 text-yellow-200 */
        .pill-red { background-color: #991B1B; color: #FECACA; } /* bg-red-800 text-red-200 */
        
        .code-block {
            background-color: #0F172A; /* bg-slate-900 */
            color: #E2E8F0; /* text-slate-200 */
            padding: 1rem;
            border-radius: 0.5rem; /* rounded-lg */
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.875rem; /* text-sm */
            overflow-x: auto;
        }
        .code-block .comment { color: #64748B; } /* text-slate-500 */
        .code-block .keyword { color: #F472B6; } /* text-pink-400 */
        .code-block .value { color: #60A5FA; } /* text-blue-400 */
        .code-block .ip { color: #34D399; } /* text-green-400 */

    </style>
</head>
<body class="text-gray-200 min-h-screen p-4 sm:p-8">
    <div class="max-w-7xl mx-auto">
        
        <!-- Cabe√ßalho -->
        <header class="mb-6">
            <h1 class="text-3xl font-bold text-white">Centro de Mando: PEC 2</h1>
            <p class="text-lg text-gray-400">Fundamentos de Redes e Arquiteturas: O 80/20 do N√≠vel de Rede e Packet Tracer</p>
        </header>

        <!-- Grid Principal -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

            <!-- Coluna Principal (2/3) -->
            <div class="md:col-span-2 space-y-6">

                <!-- Card: O Foco Principal (80/20) -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="text-xl font-semibold text-white">üéØ O Foco Principal (A Regra 80/20)</h2>
                    </div>
                    <div class="card-content">
                        <p class="text-gray-300 mb-4">A PEC 2 n√£o √© sobre decorar todos os padr√µes Wi-Fi ou a hist√≥ria do 5G. √â sobre <strong class="text-yellow-300">fazer redes diferentes conversarem</strong> e <strong class="text-yellow-300">diagnosticar por que</strong> elas falham.</p>
                        <p class="text-gray-300">Concentre-se nestas 3 habilidades (o 20% que resolve 80% da PEC):</p>
                        <ul class="list-disc list-inside space-y-2 mt-4 text-gray-300">
                            <li><strong class="text-white">Endere√ßamento IP & Sub-redes (CIDR):</strong> (Ej. 5, 6) Saber "fatiar" o range <code class="code-block inline p-1 text-sm rounded">178.10.20.0/22</code> e calcular IPs de rede, broadcast e hosts.</li>
                            <li><strong class="text-white">Roteamento Est√°tico:</strong> (Ej. 8) Ensinar manualmente a um roteador (ex: R0) o caminho para uma rede que ele n√£o conhece (ex: Sub-rede 1) atrav√©s de um "pr√≥ximo salto" (ex: R1).</li>
                            <li><strong class="text-white">Diagn√≥stico de Servi√ßos (DNS/HTTP):</strong> (Ej. 9, 12, 13) Entender a cadeia de eventos: <br>1. PC pede IP ao DNS. <br>2. DNS responde. <br>3. PC pede p√°gina ao Servidor Web. <br>E saber onde essa cadeia quebra.</li>
                        </ul>
                    </div>
                </div>

                <!-- Card: Conceitos-Chave da Camada de Rede (N√≠vel 3) -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="text-xl font-semibold text-white">üß† Conceitos-Chave da Camada de Rede (N√≠vel 3)</h2>
                        <p class="text-sm text-gray-400">Extra√≠do de "El nivel de red.pdf" e "Las capas inferiores.pdf"</p>
                    </div>
                    <div class="card-content">
                        <!-- Bot√µes de Tab -->
                        <div class="flex space-x-2 mb-4 border-b border-gray-700" id="tabs-nav">
                            <button class="tab-button active" onclick="showTab(event, 'tab-ip')">IP (IPv4)</button>
                            <button class="tab-button" onclick="showTab(event, 'tab-icmp')">ICMP</button>
                            <button class="tab-button" onclick="showTab(event, 'tab-arp')">ARP</button>
                            <button class="tab-button" onclick="showTab(event, 'tab-router')">Roteador</button>
                        </div>

                        <!-- Conte√∫do das Tabs -->
                        <div id="tabs-content">
                            <!-- Tab 1: IP (IPv4) -->
                            <div id="tab-ip" class="tab-content space-y-3">
                                <h3 class="text-lg font-semibold text-white">O "Envelope" da Internet (Datagrama IPv4)</h3>
                                <p>Pense no datagrama IP como um envelope. A Camada de Rede (N√≠vel 3) s√≥ se preocupa com o <strong class="text-white">endere√ßo do destinat√°rio (IP Destino)</strong> para saber para *qual* roteador encaminhar.</p>
                                <p class="text-gray-400 text-sm">Campos do cabe√ßalho IPv4 que <strong class="text-yellow-300">REALMENTE importam</strong> para esta PEC (Ej. 4, 13):</p>
                                <ul class="list-disc list-inside space-y-1 text-gray-300">
                                    <li><strong class="text-white">Endere√ßo IP Origem:</strong> Quem envia.</li>
                                    <li><strong class="text-white">Endere√ßo IP Destino:</strong> Para quem vai. (O roteador usa isso para consultar sua tabela).</li>
                                    <li><strong class="text-white">TTL (Time-To-Live):</strong> Um "contador de saltos". Cada roteador que o pacote atravessa subtrai 1.</li>
                                    <li><strong class="text-white">Protocolo:</strong> Diz o que est√° *dentro* do envelope. Ex: <code class="text-sm">1</code> (ICMP), <code class="text-sm">6</code> (TCP), <code class="text-sm">17</code> (UDP).</li>
                                </ul>
                                <div class="pill-blue">üí° <strong class="font-bold">P√≠lula de Insight (Ej. 3 e 13):</strong> O <strong class="text-white">TTL</strong> √© o segredo do `traceroute`! Quando o TTL chega a 0, o roteador descarta o pacote e envia uma mensagem <strong class="text-white">ICMP (Tipo 11)</strong> de volta, dizendo "Ei, seu pacote morreu aqui". √â assim que o `traceroute` mapeia o caminho.</div>
                            </div>

                            <!-- Tab 2: ICMP -->
                            <div id="tab-icmp" class="tab-content hidden space-y-3">
                                <h3 class="text-lg font-semibold text-white">O "Sonar" da Rede (ICMP)</h3>
                                <p>O ICMP (Protocolo de Mensagens de Controle da Internet) √© usado para diagn√≥sticos e mensagens de erro.</p>
                                <ul class="list-disc list-inside space-y-2 text-gray-300">
                                    <li><strong class="text-white">`ping` (Ej. 3):</strong> Envia um <strong class="text-white">ICMP Echo Request (Tipo 8)</strong>. Se o host de destino estiver alcan√ß√°vel, ele <strong class="text-white">DEVE</strong> responder com um <strong class="text-white">ICMP Echo Reply (Tipo 0)</strong>. Se o ping falha, a conectividade de N√≠vel 3 est√° quebrada.</li>
                                    <li><strong class="text-white">`traceroute` (ou `tracert`):</strong> Envia pacotes com TTL = 1, depois TTL = 2, TTL = 3... Cada roteador no caminho responde com <strong class="text-white">ICMP Time Exceeded (Tipo 11)</strong>, revelando sua identidade.</li>
                                </ul>
                            </div>

                            <!-- Tab 3: ARP -->
                            <div id="tab-arp" class="tab-content hidden space-y-3">
                                <h3 class="text-lg font-semibold text-white">O "Tradutor" IP -> MAC (N√≠vel 2.5)</h3>
                                <p>O Roteador 0 (R0) precisa enviar um pacote para o Roteador 1 (R1), que est√° na mesma rede de interconex√£o (<code class="text-sm">10.10.0.0/30</code>).</p>
                                <ul class="list-disc list-inside space-y-2 text-gray-300">
                                    <li>R0 sabe o <strong class="text-white">IP</strong> de destino: `10.10.0.1` (o IP do R1).</li>
                                    <li>Mas para enviar um quadro (frame) Ethernet (N√≠vel 2), R0 precisa do <strong class="text-white">Endere√ßo MAC</strong> do R1.</li>
                                    <li><strong>O ARP resolve isso:</strong> R0 grita (broadcast) na rede `10.10.0.0/30`: <strong class="text-yellow-300">"QUEM TEM O IP 10.10.0.1?"</strong> (ARP Request)</li>
                                    <li>R1 responde: <strong class="text-green-300">"SOU EU! MEU MAC √â AA:BB:CC:11:22:33"</strong> (ARP Reply)</li>
                                    <li>Agora R0 sabe como endere√ßar o envelope (IP) e o quadro (MAC).</li>
                                </ul>
                            </div>
                            
                            <!-- Tab 4: Roteador -->
                            <div id="tab-router" class="tab-content hidden space-y-3">
                                <h3 class="text-lg font-semibold text-white">O "Carteiro" da Rede (Roteador)</h3>
                                <p>A fun√ß√£o principal do roteador √© <strong class="text-white">encaminhar pacotes entre redes diferentes</strong>. Ele toma decis√µes baseado em sua <strong class="text-white">Tabela de Roteamento</strong>.</p>
                                <p class="font-semibold text-white">L√≥gica de uma Tabela de Roteamento Est√°tico (Ej. 8):</p>
                                <div class="code-block">
                                    <span class="comment"># Dentro do Router 0...</span><br>
                                    <span class="comment"># Para qual Rede Destino...</span><br>
                                    <span class="keyword">NETWORK</span> <span class="ip">178.10.22.0</span> <span class="comment"># (Sub-rede 1)</span><br>
                                    <span class="comment"># Com qual M√°scara...</span><br>
                                    <span class="keyword">MASK</span> <span class="value">255.255.255.0</span><br>
                                    <span class="comment"># Eu envio para qual IP? (Pr√≥ximo Salto)</span><br>
                                    <span class="keyword">NEXT HOP</span> <span class="ip">10.10.0.1</span> <span class="comment"># (O IP do Router 1)</span>
                                </div>
                                <div class="pill-red">üö® <strong class="font-bold">Insight Crucial:</strong> Um roteador S√ì conhece as redes que est√£o <strong class="text-white">DIRETAMENTE CONECTADAS</strong> a ele. Para CADA outra rede na topologia, voc√™ precisa adicionar uma Rota Est√°tica manualmente!</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Card: Guia de Troubleshooting (Ej. 9, 12) -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="text-xl font-semibold text-white">üïµÔ∏è Guia de Troubleshooting (Ej. 9, 12, 13)</h2>
                    </div>
                    <div class="card-content space-y-6">
                        <!-- Problema 1 -->
                        <div>
                            <h3 class="text-lg font-semibold text-white">Problema: O `ping` falha (Ej. 9)</h3>
                            <p class="text-gray-300 mt-1">Voc√™ configurou todas as rotas (Ej. 8), mas o ping de PC0 para PC3 (ou PC2) falha. Por qu√™?</p>
                            <p class="pill-yellow mt-2">üí° <strong class="font-bold">Hip√≥tese 80/20:</strong> O <strong class="text-white">Default Gateway (Puerta de enlace)</strong> do PC est√° errado ou faltando.</p>
                            <p class="text-gray-300 mt-2">
                                O PC3 (ex: <code class="text-sm">178.10.23.130</code>) precisa saber para onde enviar pacotes que N√ÉO s√£o da sua rede local. Esse "para onde" √© o roteador da sua rede (R3, ex: <code class="text-sm">178.10.23.129</code>).
                            </p>
                            <p class="text-gray-300 mt-2"><strong class="text-white">Solu√ß√£o (Prov√°vel):</strong> Verifique no PC (Desktop > IP Configuration) se o campo <strong class="text-white">Default Gateway</strong> est√° preenchido com o IP da interface do roteador daquela sub-rede.</p>
                        </div>
                        
                        <hr class="border-gray-700">

                        <!-- Problema 2 -->
                        <div>
                            <h3 class="text-lg font-semibold text-white">Problema: A Web N√ÉO carrega, mas o `ping` FUNCIONA (Ej. 12)</h3>
                            <p class="text-gray-300 mt-1">Voc√™ tenta abrir a URL do Server0 no PC1, mas falha. No entanto, <code class="text-sm">ping</code> PC1 -> Server0 funciona!</p>
                            <p class="pill-red mt-2">üö® <strong class="font-bold">Insight de N√≠vel S√™nior:</strong> Isso √© quase SEMPRE um problema de <strong class="text-white">DNS</strong> ou <strong class="text-white">ROTA DE VOLTA</strong>.</p>
                            <p class="text-gray-300 mt-2">
                                <strong>Cadeia de eventos (Ej. 13):</strong>
                            </p>
                            <ol class="list-decimal list-inside space-y-2 text-gray-300 mt-2">
                                <li>PC1 (ex: `178.10.22.10`) envia uma <strong class="text-yellow-300">Query DNS (UDP porta 53)</strong> para o Server1 (DNS, ex: `178.10.22.2`).</li>
                                <li>O Server1 recebe a query do IP `178.10.22.10`. Ele consulta sua tabela e descobre o IP do Server0 (`178.10.20.2`).</li>
                                <li>O Server1 tenta enviar a <strong class="text-yellow-300">Resposta DNS</strong> de volta para o PC1 (`178.10.22.10`).</li>
                                <li><strong class="text-red-400">AQUI EST√Å O ERRO (Ej. 12):</strong> O Server1 √© um <strong class="text-white">HOST</strong>, n√£o um roteador. Ele n√£o tem tabela de roteamento. Ele s√≥ conhece a pr√≥pria rede (`178.10.22.0/24`). Ele n√£o sabe como chegar em `178.10.22.10` (que est√° na mesma rede, ok) nem em `178.10.20.0/23` (se a query fosse de l√°).</li>
                                <li><strong class="text-red-400">O ERRO REAL (Ej 12):</strong> O `ping` funciona porque est√° na mesma sub-rede (PC1 -> Server1). Mas se o PC0 (`178.10.20.10`) tentar consultar o DNS (Server1, `178.10.22.2`), o Server1 <strong class="text-white">recebe</strong> a query, mas <strong class="text-white">N√ÉO SABE COMO RESPONDER</strong> para a rede `178.10.20.0/23`.</li>
                            </ol>
                            <p class="text-gray-300 mt-2"><strong class="text-white">Solu√ß√£o (Ej. 12):</strong> Configure o <strong class="text-white">Default Gateway</strong> nos <strong class="text-white">SERVIDORES</strong>!
                                <br> - No <strong class="text-white">Server0</strong> (HTTP): Gateway = <code class="ip">178.10.20.1</code> (IP do R0)
                                <br> - No <strong class="text-white">Server1</strong> (DNS): Gateway = <code class="ip">178.10.22.1</code> (IP do R1)
                            </p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Coluna Lateral (1/3) -->
            <div class="md:col-span-1 space-y-6">
                
                <!-- Card: C√°lculo de Sub-rede (Ej. 5, 6) -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="text-xl font-semibold text-white">üìê C√°lculo de Sub-rede (Ej. 5, 6)</h2>
                    </div>
                    <div class="card-content space-y-4">
                        <p class="text-gray-300">O range global √© <code class="code-block inline p-1 text-sm rounded">178.10.20.0/22</code>.</p>
                        <ul class="text-sm text-gray-400 space-y-1">
                            <li><code class="text-white">/22</code> = <code class="text-yellow-300">255.255.252.0</code></li>
                            <li>IPs: <code class="text-white">178.10.20.0</code> a <code class="text-white">178.10.23.255</code></li>
                        </ul>
                        <hr class="border-gray-700">
                        <p class="font-semibold text-white">Redes J√° Usadas:</p>
                        <ul class="text-sm text-gray-300 space-y-1">
                            <li><strong>Sub-rede 0:</strong> <code class="text-white">178.10.20.0/23</code> (Usa .20 e .21)</li>
                            <li><strong>Sub-rede 1:</strong> <code class="text-white">178.10.22.0/24</code> (Usa .22)</li>
                            <li><strong>Sub-rede 2:</strong> <code class="text-white">178.10.23.0/25</code> (Usa .23.0 a .23.127)</li>
                        </ul>
                        <hr class="border-gray-700">
                        <p class="font-semibold text-white">C√°lculo para Sub-rede 3 (Ej. 5):</p>
                         <ul class="text-sm text-gray-300 space-y-1">
                            <li><strong>Necessidade:</strong> 63 dispositivos.</li>
                            <li><strong>C√°lculo:</strong> 63 hosts + 1 Rede + 1 Broadcast = 65 IPs.</li>
                            <li><strong>Pot√™ncia de 2:</strong> $2^6=64$ (insuficiente). Pr√≥xima: $2^7=128$ IPs.</li>
                            <li><strong>Bits de Host:</strong> 7.</li>
                            <li><strong>M√°scara:</strong> 32 - 7 = <code class="text-white">/25</code> (ou `255.255.255.128`).</li>
                            <li><strong>Espa√ßo Livre:</strong> A rede 2 usou a primeira metade do bloco .23. Usamos a segunda.</li>
                            <li><strong>Rede:</strong> <code class="ip">178.10.23.128</code></li>
                            <li><strong>Router (R3):</strong> <code class="ip">178.10.23.129</code> (1¬∫ IP √∫til)</li>
                            <li><strong>PC3:</strong> <code class="ip">178.10.23.130</code> (2¬∫ IP √∫til)</li>
                            <li><strong>Gateway (no PC3):</strong> <code class="ip">178.10.23.129</code></li>
                        </ul>
                        <hr class="border-gray-700">
                        <p class="font-semibold text-white">Endere√ßos de Broadcast (Ej. 6):</p>
                        <ul class="text-sm text-gray-300 space-y-1">
                            <li><strong>Sub-rede 0 (/23):</strong> <code class="ip">178.10.21.255</code></li>
                            <li><strong>Sub-rede 1 (/24):</strong> <code class="ip">178.10.22.255</code></li>
                            <li><strong>Sub-rede 2 (/25):</strong> <code class="ip">178.10.23.127</code></li>
                            <li><strong>Sub-rede 3 (/25):</strong> <code class="ip">178.10.23.255</code></li>
                        </ul>
                    </div>
                </div>
                
                <!-- Card: Classifica√ß√£o de Redes (Ej. 1, 7) -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="text-xl font-semibold text-white">üåç Classifica√ß√£o de Redes (Ej. 1, 7)</h2>
                    </div>
                    <div class="card-content space-y-4">
                        <div>
                            <h3 class="font-semibold text-white">Por Alcance (Ej. 1):</h3>
                            <ul class="list-disc list-inside text-gray-300 text-sm mt-1 space-y-1">
                                <li><strong>LAN (Local):</strong> Edif√≠cio/Casa. (Ex: As sub-redes 0, 1, 2, 3 da PEC).</li>
                                <li><strong>MAN (Metropolitana):</strong> Cidade. (Ex: Interligar campi da UOC).</li>
                                <li><strong>WAN (Ampla):</strong> Pa√≠s/Global. (Ex: A pr√≥pria Internet).</li>
                            </ul>
                        </div>
                        <div>
                            <h3 class="font-semibold text-white">Por Topologia (Ej. 7):</h3>
                             <ul class="list-disc list-inside text-gray-300 text-sm mt-1 space-y-1">
                                <li><strong>Bus (Barra):</strong> Antiga. Todos no mesmo cabo.</li>
                                <li><strong>Anel (Ring):</strong> Antiga (Token Ring).</li>
                                <li><strong>Estrela (Star):</strong> <strong class="text-green-300">A topologia MODERNA</strong>. Hosts se ligam a um ponto central (Switch). <strong class="text-white">√â a topologia *dentro* de cada sub-rede da PEC</strong>.</li>
                                <li><strong>Malha (Mesh):</strong> Usada para redund√¢ncia. <strong class="text-white">√â a topologia usada *entre* os roteadores R0-R3</strong> (um anel/malha).</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>

    <script>
        function showTab(event, tabID) {
            // Esconder todo o conte√∫do de tabs
            const tabContents = document.getElementById('tabs-content').children;
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.add('hidden');
            }

            // Remover classe 'active' de todos os bot√µes
            const tabButtons = document.getElementById('tabs-nav').children;
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }

            // Mostrar a tab clicada
            document.getElementById(tabID).classList.remove('hidden');

            // Adicionar classe 'active' ao bot√£o clicado
            event.currentTarget.classList.add('active');
        }
    </script>
</body>
</html>
